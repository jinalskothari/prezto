#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#   Jinal Kothari
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Jinal's customizations
alias edit_prezto="code ~/.zprezto/ ~/.zprezto/runcoms/zshrc ~/.zprezto/runcoms/zshenv ~/.zprezto/runcoms/zprofile ~/.zprezto/runcoms/README.md"

# Pushes repo to Bitcraft gitlab which in turn creates a new project
# $1 can be top level [PROJECT_NAME] or [SUBGROUP/PROJECT_NAME]
function gitlab_new_push() {
  url=git@gitlab.com:bitcraftin/$1.git
  current_branch=$(git rev-parse --abbrev-ref HEAD | tr -d '\n')
  if git remote | grep -q "origin"; then
    git remote set-url origin $url
  else
    git remote add origin $url
  fi
  git push --set-upstream origin $current_branch
}

function pwdcp() {
  pwd | tr -d '\n' | pbcopy
  echo "Current working directory copied to clipboard without trailing newline!"
}

# Starship prompt
eval "$(starship init zsh)"
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion" # This loads nvm bash_completion

# prezto uses fasd_cd with a useful j alias, but i want it use it as z
alias z=j
# aichat execute alias
alias e='aichat -e'


# fnm
FNM_PATH="/Users/jinal/Library/Application Support/fnm"
if [ -d "$FNM_PATH" ]; then
  export PATH="/Users/jinal/Library/Application Support/fnm:$PATH"
  eval "`fnm env`"
fi
eval "$(fnm env --use-on-cd --shell zsh)"
# fnm

